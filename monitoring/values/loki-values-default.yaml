# Loki configuration - Using default Helm Chart configuration + DigitalOcean Spaces
# This is the most simplified configuration, only overriding necessary Spaces settings, others use defaults

# Use default SimpleScalable mode (no need to explicitly set, but written for clarity)
deploymentMode: SimpleScalable

# Loki storage configuration - DigitalOcean Spaces (S3 compatible)
# This is the only part that needs customization
loki:
  storage:
    type: s3
    bucketNames:
      chunks: loki-storage  # ⚠️ Will be replaced by script
      ruler: loki-storage   # ⚠️ Will be replaced by script
    s3:
      endpoint: sgp1.digitaloceanspaces.com  # ⚠️ Will be replaced by script (default: sgp1 for Sydney)
      region: sgp1  # ⚠️ Will be replaced by script (default: sgp1 for Sydney)
      s3ForcePathStyle: true
      secretAccessKey:
        name: loki-spaces-credentials
        key: AWS_SECRET_ACCESS_KEY
      accessKeyId:
        name: loki-spaces-credentials
        key: AWS_ACCESS_KEY_ID

# Persistent storage (for index)
persistence:
  enabled: true
  storageClassName: do-block-storage
  size: 10Gi

# Note: All other configurations use Helm Chart defaults
# Including:
# - simpleScalable.enabled: true (default)
# - simpleScalable.replicas: 1 (default)
# - chunksCache.enabled: true (default)
# - resultsCache.enabled: true (default)
# - gateway.enabled: true (default)
# etc...

